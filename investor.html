<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wright Key Property | For Investors</title>

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,400&family=Manrope:wght@200;300;400;500&display=swap" rel="stylesheet">

    <!-- GSAP -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        :root {
            --color-dark: #1a1a1a;
            --color-light: #f5f3ef;
            --color-gold: #E5A137;
        }

        body {
            background-color: var(--color-light);
            color: var(--color-dark);
            font-family: 'Manrope', sans-serif;
            overflow-x: hidden;
        }

        /* Hide custom cursor on mobile and tablets */
        @media (min-width: 1024px) {
            body {
                cursor: none;
            }
        }

        h1, h2, h3, h4, .serif {
            font-family: 'Cormorant Garamond', serif;
        }

        /* Custom Cursor - Desktop only */
        .cursor-dot,
        .cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            z-index: 9999;
            pointer-events: none;
            display: none;
        }

        @media (min-width: 1024px) {
            .cursor-dot,
            .cursor-outline {
                display: block;
            }
        }

        .cursor-dot {
            width: 6px;
            height: 6px;
            background-color: var(--color-dark);
        }

        .cursor-outline {
            width: 40px;
            height: 40px;
            border: 1px solid rgba(0, 0, 0, 0.3);
            transition: width 0.2s, height 0.2s, background-color 0.2s;
        }

        body.hovering .cursor-outline {
            width: 60px;
            height: 60px;
            background-color: rgba(212, 175, 55, 0.1);
            border-color: var(--color-gold);
        }

        /* Light cursor when menu is open */
        body.menu-open .cursor-dot {
            background-color: #fff;
        }

        body.menu-open .cursor-outline {
            border-color: rgba(255, 255, 255, 0.5);
        }

        .smooth-wrapper { width: 100%; }

        /* Reveal Image Overlay */
        .reveal-img-container {
            overflow: hidden;
            position: relative;
        }

        .reveal-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: scale(1.2);
        }

        .reveal-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--color-light);
            z-index: 2;
        }

        /* Menu Overlay */
        .menu-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
            background: var(--color-dark);
            color: var(--color-light);
            z-index: 90;
            transform: translateY(-100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Loader */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            height: 100dvh; /* Dynamic viewport height for mobile */
            background: #111;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            pointer-events: none;
        }

        .loader.active {
            pointer-events: all;
        }

        .loader-line {
            width: 0%;
            height: 1px;
            background: #fff;
            margin-top: 20px;
        }

        /* Comparison Slider Styles */
        .comparison-slider {
            position: relative;
            overflow: hidden;
            cursor: ew-resize;
            user-select: none;
        }

        .after-image-container {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            overflow: hidden;
        }

        .slider-handle {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 4px;
            transform: translateX(-50%);
            cursor: ew-resize;
            z-index: 10;
            pointer-events: none;
        }

        .slider-line {
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 2px;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            transform: translateX(-50%);
        }

        .slider-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            color: var(--color-dark);
            transition: background-color 0.3s ease;
        }

        .comparison-slider:active .slider-button,
        .comparison-slider:hover .slider-button {
            background: var(--color-gold);
            color: white;
        }
    </style>
</head>
<body class="antialiased selection:bg-[#E5A137] selection:text-white">

    <!-- Custom Cursor -->
    <div class="cursor-dot"></div>
    <div class="cursor-outline"></div>

    <!-- Preloader -->
    <div class="loader active">
        <div class="text-center">
            <h2 class="text-3xl font-light serif italic tracking-widest opacity-0" id="loader-text">INVESTMENT</h2>
            <div class="loader-line"></div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 w-full px-8 py-6 flex justify-between items-center z-50 text-white transition-all duration-300" id="main-nav">
        <a href="/" class="logo hoverable">
            <img src="/assets/light-version-logo.png" alt="Wright Key Property" class="h-16 md:h-20">
        </a>
        <div class="menu-btn cursor-pointer flex gap-2 items-center group hoverable">
            <span class="text-xs tracking-widest uppercase group-hover:opacity-70 transition-opacity">Menu</span>
            <div class="w-8 h-[1px] bg-current group-hover:w-12 transition-all duration-300"></div>
        </div>
    </nav>

    <!-- Menu Overlay -->
    <div class="menu-overlay">
        <div class="flex flex-col gap-8 text-center">
            <a href="/" class="menu-link text-5xl serif italic hover:text-[#E5A137] transition-colors hoverable">Home</a>
            <a href="/coliving" class="menu-link text-5xl serif italic hover:text-[#E5A137] transition-colors hoverable">Co-Living</a>
            <a href="/search" class="menu-link text-5xl serif italic hover:text-[#E5A137] transition-colors hoverable">Browse</a>
            <a href="/investor" class="menu-link text-5xl serif italic hover:text-[#E5A137] transition-colors hoverable text-[#E5A137]">For Investors</a>
            <a href="/#contact" class="menu-link text-5xl serif italic hover:text-[#E5A137] transition-colors hoverable">Contact</a>
            <div class="close-menu mt-12 cursor-pointer text-xs uppercase tracking-widest hoverable border rounded-full px-6 py-2 border-white/20 hover:bg-white hover:text-black transition-all">Close</div>
        </div>
    </div>

    <main class="smooth-wrapper">

        <!-- Hero Section with Background Image -->
        <section class="relative min-h-[70vh] md:min-h-screen flex items-center justify-center overflow-hidden">
            <!-- Background Image -->
            <div class="absolute inset-0 z-0">
                <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?q=80&w=2670&auto=format&fit=crop"
                     alt="London Architecture"
                     class="w-full h-full object-cover"
                     id="hero-bg">
            </div>

            <!-- Dark Overlay -->
            <div class="absolute inset-0 bg-gradient-to-b from-black/60 via-black/50 to-black/70 z-10"></div>

            <!-- Content -->
            <div class="relative z-20 px-6 md:px-20 py-24 md:py-32 max-w-7xl mx-auto text-center">
                <div class="max-w-4xl mx-auto">
                    <span class="text-xs text-[#E5A137] uppercase tracking-[0.2em] block mb-4 md:mb-6 font-semibold">Capital Growth & Yield</span>
                    <h1 class="text-5xl md:text-8xl lg:text-9xl serif italic font-normal leading-none text-white mb-6 md:mb-8" style="text-shadow: 0 4px 20px rgba(0,0,0,0.5);">
                        Intelligent Investment
                    </h1>
                    <p class="text-white/90 font-light text-base md:text-lg lg:text-xl leading-relaxed max-w-2xl mx-auto mb-8 md:mb-12 px-4 md:px-0" style="text-shadow: 0 2px 10px rgba(0,0,0,0.5);">
                        We specialise in sourcing and developing high-yield HMO and single buy-to-let opportunities in London. A completely hands-off experience for the modern investor.
                    </p>

                    <!-- CTA Buttons -->
                    <div class="flex flex-col sm:flex-row gap-3 md:gap-4 justify-center items-stretch sm:items-center px-4 md:px-0">
                        <a href="#contact" class="hoverable inline-flex items-center justify-center gap-2 bg-[#E5A137] hover:bg-[#C3892F] text-white px-8 md:px-10 py-3 md:py-4 rounded-full text-xs md:text-sm uppercase tracking-[0.15em] font-semibold transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105">
                            Get Started
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                        </a>
                        <a href="#metrics" class="hoverable inline-flex items-center justify-center gap-2 bg-white/10 backdrop-blur-md hover:bg-white/20 text-white px-8 md:px-10 py-3 md:py-4 rounded-full text-xs md:text-sm uppercase tracking-[0.15em] font-semibold transition-all duration-300 border border-white/30">
                            View Metrics
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Strategy (3 Pillars) -->
        <section class="py-20 px-6 md:px-20">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-12">
                <!-- Pillar 1 -->
                <div class="group hoverable">
                    <span class="text-4xl serif italic text-[#E5A137] mb-6 block">01</span>
                    <h3 class="text-2xl serif text-black mb-4">Sourcing</h3>
                    <p class="text-gray-500 font-light text-sm leading-relaxed mb-6">
                        We leverage deep local networks to identify off-market properties with significant value-add potential. We don't just find houses; we find margins.
                    </p>
                    <div class="w-full h-[1px] bg-black/10 group-hover:bg-[#E5A137] transition-colors duration-500"></div>
                </div>
                <!-- Pillar 2 -->
                <div class="group hoverable">
                    <span class="text-4xl serif italic text-[#E5A137] mb-6 block">02</span>
                    <h3 class="text-2xl serif text-black mb-4">Development</h3>
                    <p class="text-gray-500 font-light text-sm leading-relaxed mb-6">
                        Our power team of architects and contractors handle the full refurbishment. We convert dated stock into luxury HMOs that command premium rents.
                    </p>
                    <div class="w-full h-[1px] bg-black/10 group-hover:bg-[#E5A137] transition-colors duration-500"></div>
                </div>
                <!-- Pillar 3 -->
                <div class="group hoverable">
                    <span class="text-4xl serif italic text-[#E5A137] mb-6 block">03</span>
                    <h3 class="text-2xl serif text-black mb-4">Management</h3>
                    <p class="text-gray-500 font-light text-sm leading-relaxed mb-6">
                        Truly passive income. We tenant the property with vetted professionals and NHS staff, handling all maintenance and compliance.
                    </p>
                    <div class="w-full h-[1px] bg-black/10 group-hover:bg-[#E5A137] transition-colors duration-500"></div>
                </div>
            </div>
        </section>

        <!-- Dark Contrast Section: The Numbers -->
        <section id="metrics" class="py-20 md:py-32 px-6 md:px-20 bg-[#1a1a1a] text-[#f5f3ef]">
            <div class="flex flex-col md:flex-row justify-between gap-12 md:gap-16">
                <div class="md:w-1/2 text-center md:text-left">
                    <h2 class="text-4xl md:text-5xl serif italic font-light mb-6 md:mb-8">The Metrics.</h2>
                    <p class="text-gray-400 font-light text-sm md:text-base max-w-md mx-auto md:mx-0">
                        Our model is built on data, not guesswork. We focus on areas with strong fundamentals: transport links, hospital proximity, and regeneration zones.
                    </p>
                    <button class="mt-8 md:mt-12 border border-white/20 px-8 py-4 rounded-full text-xs uppercase tracking-widest hover:bg-white hover:text-black transition-all duration-300 hoverable">
                        Request Case Studies
                    </button>
                </div>
                <div class="md:w-1/2 grid grid-cols-2 gap-4 md:gap-8">
                    <div class="border border-white/10 p-6 md:p-8 flex flex-col justify-center text-center hover:border-[#E5A137] transition-colors hoverable">
                        <span class="text-3xl md:text-5xl serif text-[#E5A137] mb-2 countup" data-target="12" data-suffix="%">0%</span>
                        <span class="text-[10px] md:text-xs uppercase tracking-widest text-gray-400">Target Yield</span>
                    </div>
                    <div class="border border-white/10 p-6 md:p-8 flex flex-col justify-center text-center hover:border-[#E5A137] transition-colors hoverable">
                        <span class="text-3xl md:text-5xl serif text-[#E5A137] mb-2 countup" data-target="6" data-suffix=" Months">0</span>
                        <span class="text-[10px] md:text-xs uppercase tracking-widest text-gray-400">Avg Refurb Time</span>
                    </div>
                    <div class="border border-white/10 p-6 md:p-8 flex flex-col justify-center text-center hover:border-[#E5A137] transition-colors hoverable">
                        <span class="text-3xl md:text-5xl serif text-[#E5A137] mb-2 countup" data-target="100" data-suffix="%">0%</span>
                        <span class="text-[10px] md:text-xs uppercase tracking-widest text-gray-400">Hands Off</span>
                    </div>
                    <div class="border border-white/10 p-6 md:p-8 flex flex-col justify-center text-center hover:border-[#E5A137] transition-colors hoverable">
                        <span class="text-3xl md:text-5xl serif text-[#E5A137] mb-2 countup" data-target="50" data-suffix="+">0+</span>
                        <span class="text-[10px] md:text-xs uppercase tracking-widest text-gray-400">Properties</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- The Process -->
        <section id="how-it-works" class="py-20 md:py-32 px-6 md:px-20 bg-gradient-to-b from-gray-50 to-white overflow-hidden">
            <div class="text-center mb-12 md:mb-20">
                <span class="text-xs text-[#E5A137] uppercase tracking-widest block mb-4 process-header">The Journey</span>
                <h2 class="text-4xl md:text-5xl serif font-light process-header">How It Works</h2>
            </div>

            <div class="max-w-5xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 relative">
                <!-- Step 1 -->
                <div class="process-card group hoverable bg-white p-8 rounded-2xl border border-black/5 hover:border-[#E5A137] transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 relative">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 lg:left-8 lg:translate-x-0">
                        <div class="step-number w-14 h-14 rounded-full bg-gradient-to-br from-[#E5A137] to-[#C3892F] flex items-center justify-center shadow-lg transform transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12">
                            <span class="text-white font-bold text-xl">1</span>
                        </div>
                    </div>
                    <div class="pt-8">
                        <h3 class="text-xl md:text-2xl serif italic mb-3 text-[#1a1a1a]">Consultation</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            We analyze your capital and goals to build a tailored investment strategy.
                        </p>
                    </div>
                </div>

                <!-- Step 2 -->
                <div class="process-card group hoverable bg-white p-8 rounded-2xl border border-black/5 hover:border-[#E5A137] transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 relative">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 lg:left-8 lg:translate-x-0">
                        <div class="step-number w-14 h-14 rounded-full bg-gradient-to-br from-[#1a1a1a] to-[#333] flex items-center justify-center shadow-lg transform transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12">
                            <span class="text-white font-bold text-xl">2</span>
                        </div>
                    </div>
                    <div class="pt-8">
                        <h3 class="text-xl md:text-2xl serif italic mb-3 text-[#1a1a1a]">Acquisition</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            We source, view, and negotiate the deal, securing it below market value.
                        </p>
                    </div>
                </div>

                <!-- Step 3 -->
                <div class="process-card group hoverable bg-white p-8 rounded-2xl border border-black/5 hover:border-[#E5A137] transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 relative">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 lg:left-8 lg:translate-x-0">
                        <div class="step-number w-14 h-14 rounded-full bg-gradient-to-br from-[#1a1a1a] to-[#333] flex items-center justify-center shadow-lg transform transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12">
                            <span class="text-white font-bold text-xl">3</span>
                        </div>
                    </div>
                    <div class="pt-8">
                        <h3 class="text-xl md:text-2xl serif italic mb-3 text-[#1a1a1a]">Transformation</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Our team strips out and refurbishes the property to luxury standards.
                        </p>
                    </div>
                </div>

                <!-- Step 4 -->
                <div class="process-card group hoverable bg-white p-8 rounded-2xl border border-black/5 hover:border-[#E5A137] transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 relative">
                    <div class="absolute -top-4 left-1/2 -translate-x-1/2 lg:left-8 lg:translate-x-0">
                        <div class="step-number w-14 h-14 rounded-full bg-gradient-to-br from-[#E5A137] to-[#C3892F] flex items-center justify-center shadow-lg transform transition-transform duration-500 group-hover:scale-110 group-hover:rotate-12">
                            <span class="text-white font-bold text-xl">4</span>
                        </div>
                    </div>
                    <div class="pt-8">
                        <h3 class="text-xl md:text-2xl serif italic mb-3 text-[#1a1a1a]">Income</h3>
                        <p class="text-gray-600 text-sm leading-relaxed">
                            Tenants move in. You receive monthly reports and returns.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Before & After Transformations -->
        <section class="py-20 md:py-32 px-6 md:px-20 bg-white border-t border-black/5">
            <div class="text-center mb-12 md:mb-20">
                <span id="transformations-label" class="text-xs text-[#E5A137] uppercase tracking-widest block mb-4">Our Work</span>
                <h2 id="transformations-title" class="text-4xl md:text-5xl serif font-light mb-6">Transformation Gallery</h2>
                <p id="transformations-desc" class="text-gray-600 max-w-2xl mx-auto">
                    See how we transform dated properties into premium rental investments through strategic renovations and luxury finishes.
                </p>
            </div>

            <div id="transformationsGrid" class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Transformation 1: Exterior -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="0">
                        <img src="/assets/transformations/before1.JPG" alt="Before: Property Exterior" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="/assets/transformations/after1.JPG" alt="After: Property Exterior" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Exterior Transformation</h3>
                        <p class="text-gray-600 text-sm">New black windows, garage door and stone driveway</p>
                    </div>
                </div>

                <!-- Transformation 2: Kitchen to Bathroom -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="1">
                        <img src="/assets/transformations/before kitchen.JPG" alt="Before: Dated Kitchen" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="/assets/transformations/after 3.JPG" alt="After: Luxury Bathroom" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Quality Transformations</h3>
                        <p class="text-gray-600 text-sm">From dated spaces to luxury black marble bathroom with freestanding tub</p>
                    </div>
                </div>

                <!-- Transformation 3: Bedroom to Living Room -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="2">
                        <img src="/assets/transformations/before bedroom.JPG" alt="Before: Old Bedroom" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="/assets/transformations/after 4.JPG" alt="After: Modern Living Room" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Complete Renovations</h3>
                        <p class="text-gray-600 text-sm">From neglected rooms to modern living spaces with feature walls</p>
                    </div>
                </div>

                <!-- Transformation 4: Attic Bedroom to Kitchen -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="3">
                        <img src="/assets/transformations/before bed.JPG" alt="Before: Attic Bedroom" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="/assets/transformations/after5.JPG" alt="After: Modern Kitchen" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">High-End Finishes</h3>
                        <p class="text-gray-600 text-sm">From damaged spaces to luxury black kitchens with marble islands</p>
                    </div>
                </div>

                <!-- Transformation 5: After Video 1 -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-black">
                        <video src="/assets/transformations/after flat 1.MOV" class="w-full h-full object-cover" loop muted playsinline preload="metadata" onmouseenter="this.play()" onmouseleave="this.pause();this.currentTime=0;">
                        </video>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Hover to Play
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 transition-opacity pointer-events-none">
                            <div class="w-16 h-16 rounded-full bg-[#E5A137]/90 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2">
                                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Completed Property Tour</h3>
                        <p class="text-gray-600 text-sm">Full walkthrough of finished flat</p>
                    </div>
                </div>

                <!-- Transformation 6: After Video 2 -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-black">
                        <video src="/assets/transformations/after flat 2.MOV" class="w-full h-full object-cover" loop muted playsinline preload="metadata" onmouseenter="this.play()" onmouseleave="this.pause();this.currentTime=0;">
                        </video>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Hover to Play
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 transition-opacity pointer-events-none">
                            <div class="w-16 h-16 rounded-full bg-[#E5A137]/90 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2">
                                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Property Showcase</h3>
                        <p class="text-gray-600 text-sm">Luxury living spaces ready for tenants</p>
                    </div>
                </div>

                <!-- Transformation 7: Room Video Tour -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-black">
                        <video src="/assets/transformations/after roomm.MOV" class="w-full h-full object-cover" loop muted playsinline preload="metadata" onmouseenter="this.play()" onmouseleave="this.pause();this.currentTime=0;">
                        </video>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Hover to Play
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 transition-opacity pointer-events-none">
                            <div class="w-16 h-16 rounded-full bg-[#E5A137]/90 flex items-center justify-center">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2">
                                    <polygon points="5 3 19 12 5 21 5 3"></polygon>
                                </svg>
                            </div>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Room Transformation</h3>
                        <p class="text-gray-600 text-sm">Modern finishes and premium details</p>
                    </div>
                </div>

                <!-- Transformation 8: Room Interior -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="4">
                        <img src="https://images.unsplash.com/photo-1513694203232-719a280e022f?w=800&q=80" alt="Before: Dated Room" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=800&q=80" alt="After: Modern Room" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Interior Renovation</h3>
                        <p class="text-gray-600 text-sm">From dated decor to contemporary style</p>
                    </div>
                </div>

                <!-- Transformation 9: Kitchen Upgrade -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="5">
                        <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&q=80" alt="Before: Old Storage" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800&q=80" alt="After: Luxury Kitchen" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Kitchen Transformation</h3>
                        <p class="text-gray-600 text-sm">Premium black kitchen with marble finishes</p>
                    </div>
                </div>

                <!-- Transformation 10: Exterior Rear -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="6">
                        <img src="https://images.unsplash.com/photo-1518780664697-55e3ad937233?w=800&q=80" alt="Before: Old Exterior" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&q=80" alt="After: Modern Exterior" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Exterior Makeover</h3>
                        <p class="text-gray-600 text-sm">Fresh render, black windows and modern finish</p>
                    </div>
                </div>

                <!-- Transformation 11: Construction to Completion -->
                <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                    <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="7">
                        <img src="https://images.unsplash.com/photo-1504307651254-35680f356dfd?w=800&q=80" alt="Before: Under Construction" class="absolute inset-0 w-full h-full object-cover">
                        <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                            <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&q=80" alt="After: Completed Property" class="absolute inset-0 w-full h-full object-cover">
                        </div>
                        <div class="slider-handle" style="left: 50%;">
                            <div class="slider-line"></div>
                            <div class="slider-button">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M18 8L22 12L18 16M6 8L2 12L6 16"/>
                                </svg>
                            </div>
                        </div>
                        <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">
                            Drag to Compare
                        </div>
                        <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                            <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                            <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                        </div>
                    </div>
                    <div class="p-6 bg-white">
                        <h3 class="text-xl serif italic mb-2">Full Property Rebuild</h3>
                        <p class="text-gray-600 text-sm">From scaffolding to stunning completion</p>
                    </div>
                </div>
            </div>

            <!-- CTA Button -->
            <div class="text-center mt-16">
                <a href="#contact" class="inline-flex items-center gap-2 bg-[#E5A137] hover:bg-[#C3892F] text-white px-10 py-4 rounded-full text-sm uppercase tracking-widest font-semibold transition-all duration-300 shadow-xl hover:shadow-2xl hover:scale-105 hoverable">
                    View More Projects
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
                </a>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-32 px-6 md:px-20 text-center bg-white border-t border-black/5">
            <div class="max-w-2xl mx-auto">
                <h2 class="text-5xl md:text-6xl serif font-light mb-8">Partner With Us.</h2>
                <p class="text-gray-500 mb-12">
                    Access our private investor list to receive new off-market opportunities directly to your inbox.
                </p>

                <form class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <input type="text" placeholder="Name" class="w-full bg-transparent border-b border-black/20 py-4 outline-none focus:border-black transition-colors placeholder:text-gray-400 hoverable">
                        <input type="email" placeholder="Email" class="w-full bg-transparent border-b border-black/20 py-4 outline-none focus:border-black transition-colors placeholder:text-gray-400 hoverable">
                    </div>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <input type="text" placeholder="Phone" class="w-full bg-transparent border-b border-black/20 py-4 outline-none focus:border-black transition-colors placeholder:text-gray-400 hoverable">
                        <div class="relative hoverable">
                             <select class="w-full bg-transparent border-b border-black/20 py-4 outline-none focus:border-black transition-colors text-gray-500 appearance-none rounded-none">
                                <option>Investment Budget</option>
                                <option>£50k - £100k</option>
                                <option>£100k - £250k</option>
                                <option>£250k+</option>
                            </select>
                        </div>
                    </div>
                    <div class="pt-8">
                        <button class="bg-[#1a1a1a] text-white px-12 py-4 rounded-full text-xs uppercase tracking-widest hover:bg-[#E5A137] transition-colors hoverable w-full md:w-auto">
                            Request Investor Pack
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <!-- Footer -->
        <footer class="bg-black text-white/40 py-12 px-6 border-t border-white/10">
            <div class="flex flex-col md:flex-row justify-between items-center md:items-end text-center md:text-left">
                <div>
                    <img src="/assets/light-version-logo.png" alt="Wright Key Property" class="h-16 md:h-20 mb-4 mx-auto md:mx-0">
                    <p class="text-xs">© 2024 All Rights Reserved.</p>
                    <div class="mt-3 space-y-1">
                        <a href="mailto:jbwrightkeyproperty@gmail.com" class="block text-xs hover:text-white transition-colors">jbwrightkeyproperty@gmail.com</a>
                        <a href="tel:07852149077" class="block text-xs hover:text-white transition-colors">Tel: 07852149077</a>
                    </div>
                </div>
                <div class="flex gap-6 mt-6 md:mt-0 text-xs uppercase tracking-widest">
                    <a href="/" class="hover:text-white transition-colors hoverable">Home</a>
                    <a href="https://instagram.com/jb_wrightkeyproperty" target="_blank" class="hover:text-white transition-colors hoverable">Instagram</a>
                </div>
            </div>
        </footer>

    </main>

    <!-- Scripts -->
    <script>
        gsap.registerPlugin(ScrollTrigger);

        // --- Helper function to check if URL is a video ---
        function isVideoUrl(url) {
            if (!url) return false;
            const videoExtensions = ['.mp4', '.mov', '.webm', '.avi', '.mkv', '.m4v'];
            const lowerUrl = url.toLowerCase();
            return videoExtensions.some(ext => lowerUrl.includes(ext));
        }

        // --- Helper function to render media (image or video) ---
        function renderMedia(url, altText, className = 'absolute inset-0 w-full h-full object-cover') {
            if (!url) return '';
            if (isVideoUrl(url)) {
                return `<video src="${url}" class="${className}" loop muted playsinline preload="metadata"></video>`;
            }
            return `<img src="${url}" alt="${altText}" class="${className}">`;
        }

        // --- Load Transformations from API ---
        async function loadTransformations() {
            try {
                const response = await fetch('/api/content?t=' + Date.now());
                const data = await response.json();
                if (data.success && data.content && data.content.transformations) {
                    renderTransformations(data.content.transformations);
                }
            } catch (error) {
                console.log('Using default transformations');
            }
        }

        function renderTransformations(transformations) {
            const grid = document.getElementById('transformationsGrid');
            if (!grid || !transformations || transformations.length === 0) return;

            grid.innerHTML = transformations.map((item, index) => {
                if (item.type === 'video') {
                    return `
                        <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                            <div class="relative aspect-[4/3] bg-black">
                                <video src="${item.videoUrl}" class="w-full h-full object-cover" loop muted playsinline preload="metadata" onmouseenter="this.play()" onmouseleave="this.pause();this.currentTime=0;"></video>
                                <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">Hover to Play</div>
                                <div class="absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 transition-opacity pointer-events-none">
                                    <div class="w-16 h-16 rounded-full bg-[#E5A137]/90 flex items-center justify-center">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                                    </div>
                                </div>
                            </div>
                            <div class="p-6 bg-white">
                                <h3 class="text-xl serif italic mb-2">${item.title}</h3>
                                <p class="text-gray-600 text-sm">${item.description}</p>
                            </div>
                        </div>
                    `;
                } else if (item.type === 'single') {
                    const isVideo = isVideoUrl(item.mediaUrl);
                    return `
                        <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                            <div class="relative aspect-[4/3] ${isVideo ? 'bg-black' : 'bg-gray-100'}">
                                ${isVideo
                                    ? `<video src="${item.mediaUrl}" class="w-full h-full object-cover" loop muted playsinline preload="metadata" onmouseenter="this.play()" onmouseleave="this.pause();this.currentTime=0;"></video>
                                       <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">Hover to Play</div>
                                       <div class="absolute inset-0 flex items-center justify-center opacity-100 group-hover:opacity-0 transition-opacity pointer-events-none">
                                           <div class="w-16 h-16 rounded-full bg-[#E5A137]/90 flex items-center justify-center">
                                               <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="white" stroke="white" stroke-width="2"><polygon points="5 3 19 12 5 21 5 3"></polygon></svg>
                                           </div>
                                       </div>`
                                    : `<img src="${item.mediaUrl}" alt="${item.title}" class="w-full h-full object-cover">`
                                }
                            </div>
                            <div class="p-6 bg-white">
                                <h3 class="text-xl serif italic mb-2">${item.title}</h3>
                                <p class="text-gray-600 text-sm">${item.description}</p>
                            </div>
                        </div>
                    `;
                } else {
                    return `
                        <div class="group hoverable relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2">
                            <div class="relative aspect-[4/3] bg-gray-100 comparison-slider" data-index="${index}">
                                ${renderMedia(item.beforeUrl, 'Before')}
                                <div class="after-image-container" style="clip-path: inset(0 50% 0 0);">
                                    ${renderMedia(item.afterUrl, 'After')}
                                </div>
                                <div class="slider-handle" style="left: 50%;">
                                    <div class="slider-line"></div>
                                    <div class="slider-button">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8L22 12L18 16M6 8L2 12L6 16"/></svg>
                                    </div>
                                </div>
                                <div class="absolute top-4 left-4 bg-black/70 text-white px-3 py-1 text-xs uppercase tracking-widest rounded-full">Drag to Compare</div>
                                <div class="absolute bottom-4 left-4 right-4 flex justify-between text-xs pointer-events-none">
                                    <span class="bg-gray-900/80 text-white px-3 py-1 rounded-full backdrop-blur-sm">BEFORE</span>
                                    <span class="bg-[#E5A137]/90 text-white px-3 py-1 rounded-full backdrop-blur-sm">AFTER</span>
                                </div>
                            </div>
                            <div class="p-6 bg-white">
                                <h3 class="text-xl serif italic mb-2">${item.title}</h3>
                                <p class="text-gray-600 text-sm">${item.description}</p>
                            </div>
                        </div>
                    `;
                }
            }).join('');

            // Re-initialize comparison sliders after rendering
            initComparisonSliders();
        }

        // Load transformations on page load
        loadTransformations();

        // --- Custom Cursor (Desktop only) ---
        const cursorDot = document.querySelector('.cursor-dot');
        const cursorOutline = document.querySelector('.cursor-outline');
        const body = document.body;

        window.addEventListener('mousemove', (e) => {
            const posX = e.clientX;
            const posY = e.clientY;
            cursorDot.style.left = `${posX}px`;
            cursorDot.style.top = `${posY}px`;
            gsap.to(cursorOutline, { x: posX, y: posY, duration: 0.15, ease: "power2.out" });
        });

        const hoverables = document.querySelectorAll('.hoverable');
        hoverables.forEach(el => {
            el.addEventListener('mouseenter', () => body.classList.add('hovering'));
            el.addEventListener('mouseleave', () => body.classList.remove('hovering'));
        });

        // --- Preloader ---
        const loader = document.querySelector('.loader');
        const isMobileDevice = window.innerWidth < 768;
        const preloaderDuration = isMobileDevice ? 0.5 : 1;

        const tlLoader = gsap.timeline();
        tlLoader.to('#loader-text', { opacity: 1, duration: 0.3 * preloaderDuration, ease: "power2.out" })
            .to('.loader-line', { width: '100%', duration: 0.6 * preloaderDuration, ease: "power2.inOut" })
            .to('#loader-text, .loader-line', { opacity: 0, duration: 0.2 * preloaderDuration })
            .to('.loader', {
                opacity: 0,
                duration: 0.3 * preloaderDuration,
                ease: "power2.inOut",
                onComplete: () => {
                    loader.style.visibility = 'hidden';
                    loader.style.display = 'none';
                    loader.classList.remove('active');
                    document.body.style.overflow = '';
                    initPageAnimations();
                }
            });

        // Fallback timeout
        setTimeout(() => {
            if (loader && loader.style.display !== 'none') {
                loader.style.opacity = '0';
                loader.style.visibility = 'hidden';
                loader.style.display = 'none';
                loader.classList.remove('active');
                document.body.style.overflow = '';
            }
        }, 3000);

        function initPageAnimations() {
            // Hero Reveal
            gsap.from('h1', { y: 100, opacity: 0, duration: 1.5, ease: "power4.out" });
            gsap.from('.lg\\:w-1\\/3 p', { y: 50, opacity: 0, duration: 1, delay: 0.5, ease: "power3.out" });

            // Reveal Overlay Images
            const revealContainers = document.querySelectorAll('.reveal-img-container');
            revealContainers.forEach(container => {
                let overlay = container.querySelector('.reveal-overlay');
                let img = container.querySelector('.reveal-img');

                let tl = gsap.timeline({
                    scrollTrigger: {
                        trigger: container,
                        start: "top 85%",
                    }
                });

                tl.to(overlay, {
                    height: "0%",
                    duration: 1.2,
                    ease: "power4.inOut"
                })
                .to(img, {
                    scale: 1,
                    duration: 1.4,
                    ease: "power2.out",
                    delay: -1.2
                });
            });

            // Reveal Numbers/Stats
            gsap.from('.border-white\\/10', {
                y: 30,
                opacity: 0,
                duration: 1,
                stagger: 0.1,
                scrollTrigger: {
                    trigger: '.grid-cols-2',
                    start: "top 80%"
                }
            });

            // Reveal Three Pillars (immediate on page load)
            const pillarsSection = document.querySelector('section.py-20:not(.bg-gray-50)');
            if (pillarsSection) {
                const pillars = pillarsSection.querySelectorAll('.group.hoverable');
                gsap.fromTo(pillars,
                    {
                        opacity: 0,
                        y: 30
                    },
                    {
                        opacity: 1,
                        y: 0,
                        duration: 1,
                        stagger: 0.2,
                        delay: 0.5,
                        ease: "power3.out"
                    }
                );
            }

            // Enhanced How It Works Animation with ScrollTrigger
            const howItWorksSection = document.querySelector('#how-it-works');
            if (howItWorksSection) {
                // Animate header
                gsap.from('.process-header', {
                    opacity: 0,
                    y: 30,
                    duration: 0.8,
                    stagger: 0.2,
                    scrollTrigger: {
                        trigger: '#how-it-works',
                        start: "top 80%"
                    }
                });

                // Animate process cards with stagger
                const processCards = howItWorksSection.querySelectorAll('.process-card');
                gsap.fromTo(processCards,
                    {
                        opacity: 0,
                        y: 60,
                        scale: 0.9
                    },
                    {
                        opacity: 1,
                        y: 0,
                        scale: 1,
                        duration: 0.8,
                        stagger: 0.2,
                        ease: "back.out(1.2)",
                        scrollTrigger: {
                            trigger: '#how-it-works',
                            start: "top 70%"
                        }
                    }
                );

                // Animate step numbers with bounce
                const stepNumbers = howItWorksSection.querySelectorAll('.step-number');
                gsap.fromTo(stepNumbers,
                    {
                        scale: 0,
                        rotation: -180
                    },
                    {
                        scale: 1,
                        rotation: 0,
                        duration: 0.6,
                        stagger: 0.15,
                        ease: "back.out(1.7)",
                        scrollTrigger: {
                            trigger: '#how-it-works',
                            start: "top 70%"
                        }
                    }
                );
            }
        }

        // --- Navigation Logic ---
        const menuBtn = document.querySelector('.menu-btn');
        const closeMenu = document.querySelector('.close-menu');
        const menuOverlay = document.querySelector('.menu-overlay');
        const menuLinks = document.querySelectorAll('.menu-link');
        const tlMenu = gsap.timeline({ paused: true });

        tlMenu.to(menuOverlay, { y: "0%", duration: 0.8, ease: "expo.inOut" })
              .from(menuLinks, { y: 50, opacity: 0, duration: 0.5, stagger: 0.1, ease: "power2.out" }, "-=0.4");

        menuBtn.addEventListener('click', () => {
            tlMenu.play();
            body.style.overflow = "hidden";
            body.classList.add('menu-open');
        });
        closeMenu.addEventListener('click', () => {
            tlMenu.reverse();
            body.style.overflow = "";
            body.classList.remove('menu-open');
        });
        menuLinks.forEach(link => {
            link.addEventListener('click', () => {
                tlMenu.reverse();
                body.style.overflow = "";
                body.classList.remove('menu-open');
            });
        });

        // --- Countup Animation for Metrics ---
        function animateCountup(element) {
            const target = parseInt(element.getAttribute('data-target'));
            const suffix = element.getAttribute('data-suffix') || '';
            const duration = 2000; // 2 seconds
            const steps = 60;
            const increment = target / steps;
            let current = 0;

            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                element.textContent = Math.floor(current) + suffix;
            }, duration / steps);
        }

        // Trigger countup when metrics section is in view
        const countupElements = document.querySelectorAll('.countup');
        const metricsSection = document.querySelector('.py-20.md\\:py-32.bg-\\[\\#1a1a1a\\]');

        if (metricsSection && countupElements.length > 0) {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        countupElements.forEach(el => animateCountup(el));
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.3 });

            observer.observe(metricsSection);
        }

        // Initialize Lucide icons
        lucide.createIcons();

        // --- Comparison Slider Functionality ---
        function initComparisonSliders() {
            const sliders = document.querySelectorAll('.comparison-slider');

            sliders.forEach(slider => {
                const afterContainer = slider.querySelector('.after-image-container');
                const handle = slider.querySelector('.slider-handle');
                let isActive = false;

                function updateSlider(e) {
                    e.preventDefault();
                    const rect = slider.getBoundingClientRect();
                    let x = e.clientX || (e.touches && e.touches[0].clientX);

                    if (!x) return;

                    x = x - rect.left;
                    let position = (x / rect.width) * 100;

                    // Clamp between 0 and 100
                    position = Math.max(0, Math.min(100, position));

                    // Update the clip path and handle position
                    afterContainer.style.clipPath = `inset(0 ${100 - position}% 0 0)`;
                    handle.style.left = `${position}%`;
                }

                function onMouseDown(e) {
                    isActive = true;
                    slider.style.cursor = 'ew-resize';
                    updateSlider(e);
                }

                function onMouseMove(e) {
                    if (!isActive) return;
                    updateSlider(e);
                }

                function onMouseUp() {
                    isActive = false;
                    slider.style.cursor = 'ew-resize';
                }

                function onTouchStart(e) {
                    isActive = true;
                    updateSlider(e);
                }

                function onTouchMove(e) {
                    if (!isActive) return;
                    e.preventDefault();
                    updateSlider(e);
                }

                function onTouchEnd() {
                    isActive = false;
                }

                // Mouse events
                slider.addEventListener('mousedown', onMouseDown);
                window.addEventListener('mousemove', onMouseMove);
                window.addEventListener('mouseup', onMouseUp);

                // Touch events for mobile
                slider.addEventListener('touchstart', onTouchStart, { passive: true });
                window.addEventListener('touchmove', onTouchMove, { passive: false });
                window.addEventListener('touchend', onTouchEnd);
            });
        }

        // Initialize sliders after page load
        window.addEventListener('load', initComparisonSliders);
    </script>
</body>
</html>
